{"version":3,"file":"meters.js","sources":["../src/meters.ts"],"sourcesContent":["/**\n * @wavecraft/core/meters - Pure audio math utilities\n *\n * These utilities have no IPC side effects and can be used\n * in tests or standalone applications.\n *\n * @packageDocumentation\n */\n\n/**\n * Meter frame data (all values in linear scale, not dB)\n */\nexport interface MeterFrame {\n  peak_l: number;\n  peak_r: number;\n  rms_l: number;\n  rms_r: number;\n  timestamp: number;\n}\n\n/**\n * Result from getMeterFrame method\n */\nexport interface GetMeterFrameResult {\n  frame: MeterFrame | null;\n}\n\n/**\n * Convert linear amplitude to decibels\n * @param linear Linear amplitude (0.0 to 1.0+)\n * @param floor Minimum dB value to return (default: -60)\n */\nexport function linearToDb(linear: number, floor: number = -60): number {\n  if (linear <= 0) {\n    return floor;\n  }\n  const db = 20 * Math.log10(linear);\n  return Math.max(db, floor);\n}\n\n/**\n * Convert decibels to linear amplitude\n * @param db Decibels\n */\nexport function dbToLinear(db: number): number {\n  return Math.pow(10, db / 20);\n}\n"],"names":[],"mappings":"AAgCO,SAAS,WAAW,QAAgB,QAAgB,KAAa;AACtE,MAAI,UAAU,GAAG;AACf,WAAO;AAAA,EACT;AACA,QAAM,KAAK,KAAK,KAAK,MAAM,MAAM;AACjC,SAAO,KAAK,IAAI,IAAI,KAAK;AAC3B;AAMO,SAAS,WAAW,IAAoB;AAC7C,SAAO,KAAK,IAAI,IAAI,KAAK,EAAE;AAC7B;"}